{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/img/x-icon.svg","../src/main.js"],"sourcesContent":["export class imgPix {\n  constructor() {\n    this.BASE_URL = 'https://pixabay.com';\n    this.END_POINT = '/api/';\n    this.API_KEY = '?key=42433869-1e5be4b754d1019adc877ba0e';\n  }\n\n  getImage(keyWord) {\n    const url = this.BASE_URL + this.END_POINT + this.API_KEY + `&q=${keyWord}`;\n\n    const options = {\n      method: 'GET',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    };\n\n    return fetch(url, options).then(res => res.json());\n  }\n}\n","export default \"__VITE_ASSET__35698fd4__\"","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { imgPix } from './js/pixabay-api';\n\nimport icon from './img/x-icon.svg';\n\nconst searchForm = document.querySelector('.form');\nconst containerForImages = document.querySelector('.container-imgs');\nconst loadDiv = document.querySelector('.hidden-load');\n\nconst imgSearch = new imgPix();\n\nfunction imgCreate({\n  largeImageURL,\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  const container = `<div class=\"gallery\">\n  <div class=\"container-img-wrap\">\n    <a href=\"${largeImageURL}\" class=\"img-link\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\" />\n      </a>\n  </div>\n  <table border=\"0\" class=\"image-descrip\">\n    <tr class=\"td-descrip\">\n      <td>Likes</td>\n      <td>Views</td>\n      <td>Comments</td>\n      <td>Downloads</td>\n    </tr>\n    <tr class=\"td-result\">\n      <td>${likes}</td>\n      <td>${views}</td>\n      <td>${comments}</td>\n      <td>${downloads}</td>\n    </tr>\n  </table>\n</div>`;\n\n  return container;\n}\n\nfunction imgsCreate(images) {\n  return images.map(imgCreate).join('');\n}\n\nfunction renderImages(images) {\n  const markup = imgsCreate(images);\n  containerForImages.innerHTML = markup;\n  lightBoxShow();\n}\n\nsearchForm.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  loadDiv.classList.add('loader');\n\n  const userKeyWord = document.querySelector('[data-userInput]').value.trim();\n\n  imgSearch\n    .getImage(userKeyWord)\n    .then(data => {\n      if (data.totalHits > 0) {\n        const img = data.hits;\n        renderImages(img);\n      } else {\n        iziToast.show({\n          position: 'topRight',\n          iconUrl: icon,\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#FFFFFF',\n          messageSize: '16',\n          messageLineHeight: '15',\n          backgroundColor: '#EF4040',\n          timeout: 5000,\n          displayMode: 2,\n          close: true,\n          closeOnEscape: true,\n          closeOnClick: true,\n        });\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      loadDiv.classList.remove('loader');\n    });\n\n  e.target.reset();\n}\n\nfunction lightBoxShow() {\n  const lightbox = new SimpleLightbox('.container-img-wrap a', {\n    close: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionsPosition: 'bottom',\n    animationSpeed: 10,\n    captionSelector: 'img',\n    enableKeyboard: true,\n    loop: true,\n  });\n\n  lightbox.on('show.simplelightbox');\n  lightbox.refresh();\n}\n\ndocument\n  .querySelector('[data-userInput]')\n  .addEventListener('input', function () {\n    containerForImages.innerHTML = '';\n  });\n"],"names":["imgPix","keyWord","url","res","icon","searchForm","containerForImages","loadDiv","imgSearch","imgCreate","largeImageURL","webformatURL","tags","likes","views","comments","downloads","imgsCreate","images","renderImages","markup","lightBoxShow","onSubmit","e","userKeyWord","data","img","iziToast","err","lightbox","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,CAAO,CAClB,aAAc,CACZ,KAAK,SAAW,sBAChB,KAAK,UAAY,QACjB,KAAK,QAAU,yCAChB,CAED,SAASC,EAAS,CAChB,MAAMC,EAAM,KAAK,SAAW,KAAK,UAAY,KAAK,QAAU,MAAMD,CAAO,GASzE,OAAO,MAAMC,EAPG,CACd,OAAQ,MACR,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CAE6B,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAClD,CACH,CCnBA,MAAeC,EAAA,4CCYTC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAqB,SAAS,cAAc,iBAAiB,EAC7DC,EAAU,SAAS,cAAc,cAAc,EAE/CC,EAAY,IAAIR,EAEtB,SAASS,EAAU,CACjB,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CAuBD,MAtBkB;AAAA;AAAA,eAELN,CAAa;AAAA,oBACRC,CAAY,UAAUC,CAAI,YAAYA,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAWlDC,CAAK;AAAA,YACLC,CAAK;AAAA,YACLC,CAAQ;AAAA,YACRC,CAAS;AAAA;AAAA;AAAA,OAMrB,CAEA,SAASC,EAAWC,EAAQ,CAC1B,OAAOA,EAAO,IAAIT,CAAS,EAAE,KAAK,EAAE,CACtC,CAEA,SAASU,EAAaD,EAAQ,CAC5B,MAAME,EAASH,EAAWC,CAAM,EAChCZ,EAAmB,UAAYc,EAC/BC,GACF,CAEAhB,EAAW,iBAAiB,SAAUiB,CAAQ,EAE9C,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAEhBhB,EAAQ,UAAU,IAAI,QAAQ,EAE9B,MAAMiB,EAAc,SAAS,cAAc,kBAAkB,EAAE,MAAM,OAErEhB,EACG,SAASgB,CAAW,EACpB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,UAAY,EAAG,CACtB,MAAMC,EAAMD,EAAK,KACjBN,EAAaO,CAAG,CACxB,MACQC,EAAS,KAAK,CACZ,SAAU,WACV,QAASvB,EACT,QACE,2EACF,aAAc,UACd,YAAa,KACb,kBAAmB,KACnB,gBAAiB,UACjB,QAAS,IACT,YAAa,EACb,MAAO,GACP,cAAe,GACf,aAAc,EACxB,CAAS,CAET,CAAK,EACA,MAAMwB,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbrB,EAAQ,UAAU,OAAO,QAAQ,CACvC,CAAK,EAEHgB,EAAE,OAAO,OACX,CAEA,SAASF,GAAe,CACtB,MAAMQ,EAAW,IAAIC,EAAe,wBAAyB,CAC3D,MAAO,GACP,aAAc,MACd,aAAc,IACd,iBAAkB,SAClB,eAAgB,GAChB,gBAAiB,MACjB,eAAgB,GAChB,KAAM,EACV,CAAG,EAEDD,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,CAClB,CAEA,SACG,cAAc,kBAAkB,EAChC,iBAAiB,QAAS,UAAY,CACrCvB,EAAmB,UAAY,EACnC,CAAG"}